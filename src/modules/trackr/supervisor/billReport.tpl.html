<h1>{{ 'PAGES.SUPERVISOR.BILL_CREATE.TITLE' | translate }}</h1>
<input type="text" class="form-control" ng-model="company"
       typeahead-on-select="loadProjects(company)"
       typeahead="company as company.name for company in getCompanies($viewValue)"
       typeahead-editable="false"
       typahead-min-length="2"/>

<input type="text" class="form-control" ng-model="project"
       typeahead-on-select="loadProjectData()"
       typeahead="project as project.name for project in projects | filter:{name:$viewValue}"
       typeahead-editable="false"
       typahead-min-length="2"/>

<div class="col-md-6">
    <p class="input-group">
        <input type="text" class="form-control" ng-model="start"
               datepicker-popup="yyyy-MM-dd"
               is-open="startOpened"
               close-text="{{ 'ACTIONS.CLOSE' | translate }}"
               current-text="{{ 'DATE.TODAY' | translate }}"
               toggle-weeks-text="{{ 'DATE.WEEKS' | translate }}"
               clear-text="{{ 'ACTIONS.CLEAR' | translate }}"/>
        <span class="input-group-btn">
            <button class="btn btn-default" ng-click="openDate($event, 'startOpened')"><i class="glyphicon glyphicon-calendar"></i></button>
        </span>
    </p>
</div>

<div class="col-md-6">
    <p class="input-group">
        <input type="text" class="form-control" ng-model="end"
               datepicker-popup="yyyy-MM-dd"
               is-open="stopOpened"
               close-text="{{ 'ACTIONS.CLOSE' | translate }}"
               current-text="{{ 'DATE.TODAY' | translate }}"
               toggle-weeks-text="{{ 'DATE.WEEKS' | translate }}"
               clear-text="{{ 'ACTIONS.CLEAR' | translate }}"/>
            <span class="input-group-btn">
                <button class="btn btn-default" ng-click="openDate($event, 'stopOpened')"><i class="glyphicon glyphicon-calendar"></i></button>
            </span>
    </p>
</div>

<div ng-if="project">
    <h2>{{project.name}} ({{project.identifier}})</h2>
    <table class="table table-bordered">
        <tr>
            <td>{{ 'PROJECT.DEBITOR' | translate}}</td>
            <td>{{project.debitor.name}} ({{project.debitor.companyId}})</td>
        </tr>
        <tr>
            <td>{{ 'PROJECT.HOURLY_RATE' | translate}}</td>
            <td>{{project.hourlyRate}} €</td>
        </tr>
    </table>
</div>

<tabset>
    <tab ng-repeat="(employee, minutes) in employeeMapping" heading="{{employee}}">
        <table class="table table-condensed table-bordered">
            <tr><td>{{ 'PAGES.SUPERVISOR.BILL_CREATE.HOURS' | translate }}</td><td>{{minutes / 60}} h</td></tr>
            <tr><td>{{ 'PAGES.SUPERVISOR.BILL_CREATE.MAN_DAYS' | translate }}</td><td>{{(minutes / 60) / 8}} d</td></tr>
            <tr><td>{{ 'PAGES.SUPERVISOR.BILL_CREATE.NET_PRICE' | translate }}</td><td>{{(minutes / 60) * project.hourlyRate}} €</td></tr>
            <tr><td>{{ 'PAGES.SUPERVISOR.BILL_CREATE.GROSS_PRICE' | translate }}</td><td>{{(minutes / 60) * project.hourlyRate * 1.19}} €</td></tr>
        </table>
    </tab>
</tabset>